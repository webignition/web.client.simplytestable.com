{% extends 'Partials/Test/Summary/summary.html.twig' %}

{% block container_class %}incomplete{% endblock %}

{% block url_button_label %}Live progress{% endblock %}
{% set url = path('view_test_progress', {'website': test.website, 'test_id':test.testId}) %}

{% set container_attributes = [
    'data-completion-percent="' ~ test.completionPercent ~ '"',
    'data-processed-url-count="' ~ test.crawlData.processed_url_count ~ '"',
    'data-discovered-url-count="' ~ test.crawlData.discovered_url_count ~ '"'
]|join(' ')  %}

{% block stats %}

    <div class="row">
        <div class="col-lg-12">
            <div class="progress">
                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="{{ test.completionPercent }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ test.completionPercent }}%;">
                </div>
            </div>
        </div>
    </div>

    <div class="row summary-stats">
        <div class="col-lg-12">
            <p>
                Finding URLs to test: <span class="processed-url-count">{{ test.crawlData.processed_url_count }}</span> examined, <span class="discovered-url-count">{{ test.crawlData.discovered_url_count }}</span> of <span>{{ test.crawlData.limit }}</span> found
            </p>
        </div>
    </div>

{% endblock %}
