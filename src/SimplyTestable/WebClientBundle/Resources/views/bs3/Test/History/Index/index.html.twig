{% extends 'SimplyTestableWebClientBundle::bs3/base.html.twig' %}

{% block title %}Test History - {{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/modal.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/full-width.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/summary-stats.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/test-list.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/pagination.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/test-history.css'
    filter='cssrewrite' %}
    <link rel="stylesheet" href="{{ asset_url }}"/>
    {% endstylesheets %}

    <link rel="stylesheet" href="{{ asset('build/test-history.css') }}">
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    {% javascripts
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/bootstrap3-typeahead.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stModal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stFormHelper.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stTestResultPreparer.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/modal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/test-history.js'
    %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block body_class %} {{ parent() }} page-test-history full-width {% endblock %}

{% block body %}
    {{ parent() }}

    <div class="alert-container">
        {% if is_logged_in == false %}
            {% include 'SimplyTestableWebClientBundle:bs3/Partials/Generic:limited-demo-notification.html.twig' %}
        {% endif %}
    </div>

    <div class="header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>
                        {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/History:heading-content.html.twig' %}
                    </h1>

                    {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/History:url-filter.html.twig' %}

                    {% if test_list.maxresults > 0 %}
                        {% if pagination_page_numbers|length > 0 %}
                            {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/History:pagination-content.html.twig' %}
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 col-sm-12 test-list" id="finished-tests">
                {% for test in test_list.get %}
                    {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/Summary:finished.html.twig' %}
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}