{% extends 'SimplyTestableWebClientBundle:bs3/Partials/Test/Summary:summary.html.twig' %}

{% block container_class %}incomplete{% endblock %}

{% block url_button_label %}Live progress{% endblock %}
{% set url = path('view_test_progress_index_index', {'website': test.test.website, 'test_id':test.test.testId}) %}

{% set container_attributes = [
    'data-completion-percent="' ~ test.remote_test.completionPercent ~ '"',
    'data-processed-url-count="' ~ test.remote_test.crawl.processed_url_count ~ '"',
    'data-discovered-url-count="' ~ test.remote_test.crawl.discovered_url_count ~ '"'
]|join(' ')  %}

{% block stats %}

    <div class="row">
        <div class="col-lg-12">
            <div class="progress">
                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="{{ test.remote_test.completionPercent }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ test.remote_test.completionPercent }}%;">
                </div>
            </div>
        </div>
    </div>

    <div class="row summary-stats">
        <div class="col-lg-12">
            <p>
                Finding URLs to test: <span class="processed-url-count">{{ test.remote_test.crawl.processed_url_count }}</span> examined, <span class="discovered-url-count">{{ test.remote_test.crawl.discovered_url_count }}</span> of <span>{{ test.remote_test.crawl.limit }}</span> found
            </p>
        </div>
    </div>

{% endblock %}
